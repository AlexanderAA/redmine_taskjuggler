<PRE>	

project <%= @Project.identifier.sub("-","_") %> "<%= @Project.name %>" "1.0" 2008-01-01 - 2018-01-01 {
  timeformat "%Y-%m-%d"
  currency "EUR"
  scenario plan "Plan" {
    scenario delayed "Delayed"
  }
}

<% @Resources.each do |res| %>
resource <%= res.login.sub(".","_").sub("-","_") %> "<%= res.firstname %> <%= res.lastname %> <%= "<".concat(res.mail).concat(">") %>" {}
<% end %>
<%= debug(@Cats) %>
task <%= @Project.identifier.sub("-","_") %> "<%= @Project.name %>" {
	start <%= Date.today %>
	<% @Versions.each do |version| %>
		task <%= version.name.sub(".","_").sub(" ","_") %> "<%= version.description %>" {
		<% @Cats.each do |cat| 
			if @IssuesByVersionByCat[cat.name].issues %>
			task <%= cat.name %> "<%= cat.name %>" {
				<% @IssuesByVersionByCat[version.name.sub(".","_").sub(" ","_")][cat.name].issues.each do |issue|
					<%= 
					render :file  => "/opt/redmine-0.8.4/vendor/plugins/redmine_tj_status/app/views/tjstatus/task.html.erb", :locals => { :issue => issue } 
				end
			%>}
			<% end %>
		}
		<% end %>
}
<% @temp_user_id = @TimeEntries[0].user_id %>
supplement resource  <%= @TimeEntries[0].user.login.sub(".","_") %> {<% @TimeEntries.each do |te| %><% 
	if @temp_user_id != te.user_id %>
}
supplement resource  <%= te.user.login.sub(".","_").sub("-","_") %> {<% 
		@temp_user_id = te.user_id %><% 
	end %>
	booking <%= @Project.identifier.sub("-","_") %><% 
	if te.issue.category
		%>.<%= te.issue.category.name %><%
	end%>.t<%= te.issue_id %> <%= te.spent_on %> +<%= te.hours/8 %>d { sloppy 2 }<% 
end %>
}
</PRE>